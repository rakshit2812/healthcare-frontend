<app-navbar></app-navbar>

<div class="dashboard-container">
  <h2>Admin Dashboard</h2>
  
  <div *ngIf="message" [class]="'message message-' + messageType">
    {{ message }}
  </div>
  
  <div class="tabs">
    <button 
      [class.active]="activeTab === 'add-doctor'"
      (click)="setTab('add-doctor')">
      Add Doctor
    </button>
    <button 
      [class.active]="activeTab === 'appointments'"
      (click)="setTab('appointments')">
      View Appointments
    </button>
    <button 
      [class.active]="activeTab === 'bills'"
      (click)="setTab('bills')">
      View Bills
    </button>
    <button 
      [class.active]="activeTab === 'reports'"
      (click)="setTab('reports')">
      Daily Reports
    </button>
  </div>
  
  <!-- Add Doctor Tab -->
  <div *ngIf="activeTab === 'add-doctor'" class="tab-content">
    <div class="card">
      <h3>Add New Doctor</h3>
      
      <form (ngSubmit)="addDoctor()">
        <div class="form-row">
          <div class="form-group">
            <label>Name</label>
            <input 
              type="text" 
              [(ngModel)]="doctorForm.name" 
              name="name"
              required
              placeholder="Enter doctor name">
          </div>
          
          <div class="form-group">
            <label>Email</label>
            <input 
              type="email" 
              [(ngModel)]="doctorForm.email" 
              name="email"
              required
              placeholder="Enter email">
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label>Password</label>
            <input 
              type="password" 
              [(ngModel)]="doctorForm.password" 
              name="password"
              required
              placeholder="Enter password">
          </div>
          
          <div class="form-group">
            <label>Specialization</label>
            <input 
              type="text" 
              [(ngModel)]="doctorForm.specialization" 
              name="specialization"
              required
              placeholder="e.g., Cardiology">
          </div>
        </div>
        
        <div class="form-group">
          <label>Hospital</label>
          <input 
            type="text" 
            [(ngModel)]="doctorForm.hospital" 
            name="hospital"
            required
            placeholder="Enter hospital name">
        </div>
        
        <button type="submit" class="btn btn-primary">Add Doctor</button>
      </form>
    </div>
  </div>
  
  <!-- Appointments Tab -->
  <div *ngIf="activeTab === 'appointments'" class="tab-content">
    <div class="card">
      <h3>All Appointments</h3>
      
      <div *ngIf="appointments.length === 0" class="empty-state">
        No appointments found.
      </div>
      
      <div *ngIf="appointments.length > 0" class="table-container">
        <table>
          <thead>
            <tr>
              <th>Appointment ID</th>
              <th>Patient</th>
              <th>Doctor</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let apt of appointments">
              <td>{{ apt.appointmentId }}</td>
              <td>{{ apt.patient }}</td>
              <td>{{ apt.doctor }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  
  <!-- Bills Tab -->
  <div *ngIf="activeTab === 'bills'" class="tab-content">
    <div class="card">
      <h3>All Bills</h3>
      
      <div *ngIf="bills.length === 0" class="empty-state">
        No bills found.
      </div>
      
      <div *ngIf="bills.length > 0" class="table-container">
        <table>
          <thead>
            <tr>
              <th>Bill ID</th>
              <th>Amount</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let bill of bills">
              <td>{{ bill.billId }}</td>
              <td>${{ bill.amount }}</td>
              <td>
                <span [class]="'status status-' + bill.status.toLowerCase()">
                  {{ bill.status }}
                </span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  
  <!-- Reports Tab -->
  <div *ngIf="activeTab === 'reports'" class="tab-content">
    <div class="card">
      <h3>Daily Reports</h3>
      
      <div class="form-group">
        <label>Select Date</label>
        <input 
          type="date" 
          [(ngModel)]="reportDate" 
          name="reportDate"
          (change)="loadDailyReport()">
      </div>
      
      <div *ngIf="dailyReport" class="report-grid">
        <div class="report-card">
          <h4>Total Patients</h4>
          <p class="report-value">{{ dailyReport.totalPatients }}</p>
        </div>
        
        <div class="report-card">
          <h4>Revenue</h4>
          <p class="report-value">${{ dailyReport.revenue }}</p>
        </div>
        
        <div class="report-card">
          <h4>Cancellations</h4>
          <p class="report-value">{{ dailyReport.cancellations }}</p>
        </div>
      </div>
    </div>
  </div>
</div>